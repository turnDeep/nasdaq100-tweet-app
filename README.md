# ãƒŠã‚¹ãƒ€ãƒƒã‚¯100 ã¤ã¶ã‚„ããƒãƒ£ãƒ¼ãƒˆ

ãƒŠã‚¹ãƒ€ãƒƒã‚¯100æŒ‡æ•°ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒ¼ãƒˆä¸Šã«ã€ã‚³ãƒ¡ãƒ³ãƒˆã‚„æ„Ÿæƒ…ã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ•ç¨¿ãƒ»è¡¨ç¤ºã§ãã‚‹ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒˆãƒ¬ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ðŸŒŸ ä¸»ãªæ©Ÿèƒ½

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒ¼ãƒˆ**: ãƒŠã‚¹ãƒ€ãƒƒã‚¯100æŒ‡æ•°ã®ã‚­ãƒ£ãƒ³ãƒ‰ãƒ«ã‚¹ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ£ãƒ¼ãƒˆã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- **ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿**: ãƒãƒ£ãƒ¼ãƒˆä¸Šã®ä»»æ„ã®ä¾¡æ ¼ã«ã‚³ãƒ¡ãƒ³ãƒˆã¨æ„Ÿæƒ…ã‚¢ã‚¤ã‚³ãƒ³ã‚’æŠ•ç¨¿
- **æ™‚é–“æž åˆ‡ã‚Šæ›¿ãˆ**: 1åˆ†è¶³ã‹ã‚‰é€±è¶³ã¾ã§7ã¤ã®æ™‚é–“æž ã«å¯¾å¿œ
- **ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æž**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•ç¨¿ã‹ã‚‰BUY/SELLã®ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚’è‡ªå‹•åˆ†æž
- **WebSocketé€šä¿¡**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…±æœ‰
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ä¸¡å¯¾å¿œ

## ðŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **FastAPI**: é«˜é€ŸãªPythonè£½Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **PostgreSQL**: ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **SQLAlchemy**: ORM
- **yfinance**: Yahoo Finance APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- **WebSocket**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React**: UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **Lightweight Charts**: TradingViewè£½ãƒãƒ£ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **WebSocket**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡
- **CSS**: ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

### ã‚¤ãƒ³ãƒ•ãƒ©
- **Docker & Docker Compose**: ã‚³ãƒ³ãƒ†ãƒŠåŒ–
- **Railway / VPS**: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

---

## ðŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•

### ðŸ”§ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ

#### å‰ææ¡ä»¶
- Docker & Docker Compose
- Node.js 18ä»¥ä¸Š
- Python 3.11ä»¥ä¸Šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

#### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. **ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³**
```bash
git clone https://github.com/yourusername/nasdaq100-tweet-app.git
cd nasdaq100-tweet-app
```

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
```bash
# backend/.env ã‚’ä½œæˆï¼ˆæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
cat > backend/.env << EOF
DATABASE_URL=postgresql://user:password@localhost:5432/nasdaq100_app
PORT=8000
EOF
```

3. **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®èµ·å‹•**
```bash
# Docker Composeã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’èµ·å‹•
docker-compose up -d
```

4. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®èµ·å‹•**
```bash
# åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œ
cd frontend
npm install  # åˆå›žã®ã¿
npm start    # http://localhost:3000 ã§èµ·å‹•
```

#### å‹•ä½œç¢ºèª
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: http://localhost:3000
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API: http://localhost:8000
- API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: http://localhost:8000/docs

#### é–‹ç™ºæ™‚ã®ã‚³ãƒžãƒ³ãƒ‰

```bash
# ãƒ­ã‚°ã®ç¢ºèª
docker-compose logs -f backend

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚»ãƒƒãƒˆ
docker-compose down -v
docker-compose up -d

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å†èµ·å‹•
docker-compose restart backend
```

---

### ðŸ–¥ï¸ Xserver VPS ãƒ‡ãƒ—ãƒ­ã‚¤

#### å‰ææ¡ä»¶
- Xserver VPSã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆUbuntu 22.04æŽ¨å¥¨ï¼‰
- ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- SSHæŽ¥ç¶šè¨­å®šæ¸ˆã¿

#### ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

1. **VPSã®åˆæœŸè¨­å®š**
```bash
# VPSã«SSHæŽ¥ç¶š
ssh user@your-vps-ip

# å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
sudo apt update
sudo apt install -y docker.io docker-compose git nginx certbot python3-certbot-nginx

# Dockerã®æ¨©é™è¨­å®š
sudo usermod -aG docker $USER
newgrp docker
```

2. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤**
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/nasdaq100-tweet-app.git
cd nasdaq100-tweet-app

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp backend/.env.example backend/.env
nano backend/.env  # DATABASE_URLãªã©ã‚’æœ¬ç•ªç”¨ã«ç·¨é›†

# æœ¬ç•ªç”¨docker-compose.ymlã‚’ä½œæˆ
cat > docker-compose.prod.yml << 'EOF'
version: '3.8'

services:
  db:
    image: postgres:15
    environment:
      POSTGRES_USER: produser
      POSTGRES_PASSWORD: strongpassword
      POSTGRES_DB: nasdaq100_prod
    volumes:
      - postgres_data:/var/lib/postgresql/data
    restart: always

  backend:
    build: 
      context: .
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    environment:
      DATABASE_URL: postgresql://produser:strongpassword@db:5432/nasdaq100_prod
    depends_on:
      - db
    restart: always

  frontend:
    build: 
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      REACT_APP_API_URL: http://your-domain.com:8000
    depends_on:
      - backend
    restart: always

volumes:
  postgres_data:
EOF

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•
docker-compose -f docker-compose.prod.yml up -d --build
```

3. **Nginxãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã®è¨­å®š**
```bash
# Nginxè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
sudo nano /etc/nginx/sites-available/nasdaq100

# ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜å…¥
server {
    listen 80;
    server_name your-domain.com;

    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
    location /api {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # WebSocket
    location /ws {
        proxy_pass http://localhost:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
    }
}

# è¨­å®šã‚’æœ‰åŠ¹åŒ–
sudo ln -s /etc/nginx/sites-available/nasdaq100 /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

4. **SSLè¨¼æ˜Žæ›¸ã®è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**
```bash
sudo certbot --nginx -d your-domain.com
```

5. **è‡ªå‹•èµ·å‹•ã®è¨­å®š**
```bash
# systemdã‚µãƒ¼ãƒ“ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
sudo nano /etc/systemd/system/nasdaq100.service

[Unit]
Description=NASDAQ100 Tweet App
After=docker.service
Requires=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/home/user/nasdaq100-tweet-app
ExecStart=/usr/bin/docker-compose -f docker-compose.prod.yml up -d
ExecStop=/usr/bin/docker-compose -f docker-compose.prod.yml down
User=user

[Install]
WantedBy=multi-user.target

# ã‚µãƒ¼ãƒ“ã‚¹ã‚’æœ‰åŠ¹åŒ–
sudo systemctl enable nasdaq100
sudo systemctl start nasdaq100
```

#### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚³ãƒžãƒ³ãƒ‰

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ›´æ–°
cd nasdaq100-tweet-app
git pull
docker-compose -f docker-compose.prod.yml up -d --build

# ãƒ­ã‚°ã®ç¢ºèª
docker-compose -f docker-compose.prod.yml logs -f

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
docker exec nasdaq100-tweet-app_db_1 pg_dump -U produser nasdaq100_prod > backup.sql

# ãƒªã‚¹ãƒˆã‚¢
docker exec -i nasdaq100-tweet-app_db_1 psql -U produser nasdaq100_prod < backup.sql
```

---

## ðŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
nasdaq100-tweet-app/
â”œâ”€â”€ Dockerfile              # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ¬ç•ªç”¨
â”œâ”€â”€ docker-compose.yml      # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨
â”œâ”€â”€ docker-compose.prod.yml # VPSæœ¬ç•ªç”¨ï¼ˆä½œæˆã™ã‚‹ï¼‰
â”œâ”€â”€ railway.json           # Railwayè¨­å®š
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile         # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨
â”‚   â”œâ”€â”€ database.py        # DBæŽ¥ç¶šè¨­å®š
â”‚   â”œâ”€â”€ main.py           # FastAPIã‚¢ãƒ—ãƒª
â”‚   â”œâ”€â”€ models.py         # SQLAlchemyãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ requirements.txt   # Pythonä¾å­˜é–¢ä¿‚
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ market_data.py # ãƒžãƒ¼ã‚±ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿
â”‚       â””â”€â”€ sentiment.py   # ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æž
â””â”€â”€ frontend/
    â”œâ”€â”€ Dockerfile         # æœ¬ç•ªç”¨
    â”œâ”€â”€ package.json
    â”œâ”€â”€ public/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ App.js
    â”‚   â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ services/
    â”‚   â””â”€â”€ styles/
    â””â”€â”€ build/            # ãƒ“ãƒ«ãƒ‰æˆæžœç‰©

```

---

## ðŸ”§ ç’°å¢ƒå¤‰æ•°

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
```env
DATABASE_URL=postgresql://user:password@db:5432/nasdaq100_app
PORT=8000
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```env
REACT_APP_API_URL=http://localhost:8000  # æœ¬ç•ªã§ã¯é©åˆ‡ãªURLã«å¤‰æ›´
```

---

## ðŸ’» API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### REST API
- `GET /api/health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
- `GET /api/market/{symbol}/{interval}` - ãƒžãƒ¼ã‚±ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿å–å¾—
- `GET /api/comments?hours=24` - ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§å–å¾—
- `GET /api/sentiment` - ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æžçµæžœ

### WebSocket
- `WS /ws` - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡
  - `post_comment` - ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿
  - `new_comment` - æ–°è¦ã‚³ãƒ¡ãƒ³ãƒˆé€šçŸ¥
  - `market_update` - ãƒžãƒ¼ã‚±ãƒƒãƒˆæ›´æ–°

---

## ðŸŽ¨ ä½¿ã„æ–¹

1. **ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤º**: ãƒšãƒ¼ã‚¸ã‚’é–‹ãã¨è‡ªå‹•çš„ã«ãƒŠã‚¹ãƒ€ãƒƒã‚¯100ã®ãƒãƒ£ãƒ¼ãƒˆãŒè¡¨ç¤º
2. **æ™‚é–“æž å¤‰æ›´**: ãƒ˜ãƒƒãƒ€ãƒ¼ã®æ™‚é–“æž ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦åˆ‡ã‚Šæ›¿ãˆ
3. **ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿**: 
   - ã€ŒNEW POSTã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã‚³ãƒ¡ãƒ³ãƒˆã¨æ„Ÿæƒ…ã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸æŠž
   - æŠ•ç¨¿ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. **ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆç¢ºèª**: ãƒ˜ãƒƒãƒ€ãƒ¼å³å´ã®ã€Œã¿ã‚“ãªã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã€ã§ç¢ºèª

---

## ðŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
cd backend
pytest

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
cd frontend
npm test
```

---

## ðŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
- `docker-compose logs -f` ã§ãƒ­ã‚°ã‚’ç¢ºèª
- ãƒãƒ¼ãƒˆç«¶åˆæ™‚ã¯ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢
- `docker-compose down -v` ã§ã‚¯ãƒªãƒ¼ãƒ³ã‚¹ã‚¿ãƒ¼ãƒˆ

### Railway
- Logsã‚¿ãƒ–ã§ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ­ã‚°ã‚’ç¢ºèª
- ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- Generate Domainã‚’å¿˜ã‚Œãšã«å®Ÿè¡Œ

### VPS
- `systemctl status nasdaq100` ã§ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
- ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã§ãƒãƒ¼ãƒˆãŒé–‹ã„ã¦ã„ã‚‹ã‹ç¢ºèª
- Nginxãƒ­ã‚°: `/var/log/nginx/error.log`

---

## ðŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

---

## ðŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿Žã—ã¾ã™ï¼å¤§ããªå¤‰æ›´ã®å ´åˆã¯ã€ã¾ãšissueã‚’ä½œæˆã—ã¦å¤‰æ›´å†…å®¹ã‚’è­°è«–ã—ã¦ãã ã•ã„ã€‚

---

## ðŸ“ž ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆã¯ã€[Issues](https://github.com/yourusername/nasdaq100-tweet-app/issues)ãƒšãƒ¼ã‚¸ã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚
